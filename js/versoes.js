$(document).ready(function(){var e=0,s=19,n=null,o={x:null},a={x:0,verify:function(){s=$(".trail").offset().left-$(".versoes .ruler").offset().left-31;var e=(this.x-$(".versoes .trail").offset().left)/$(".versoes .trail").width();0>e&&(e=0),e>1&&(e=1),console.log(e);var n=1+parseInt(.5+parseInt(12*e)/2);$(".versoes .handle").css("left",s+e*$(".versoes .trail").width()+"px"),t.goToIdx(n)},snap:function(){var e,o=t.getCurrentIdx(),a=s+parseInt($(".versoes .trail").width()*(o-1)/6),r=$(".versoes .handle").position().left;e=parseInt(.7*r+.3*a),e==r?($(".versoes .handle").css("left",a+"px"),clearInterval(n),n=null):$(".versoes .handle").css("left",e+"px"),console.log("running...")},snapOnce:function(){var e=t.getCurrentIdx();s=$(".trail").offset().left-$(".versoes .ruler").offset().left-31;var n=s+parseInt($(".versoes .trail").width()*(e-1)/6);$(".versoes .handle").css("left",n+"px")}};$(".versoes .handle").mousedown(function(){e=1}),$(".versoes .ruler").mousedown(function(){e=1}),$(".versoes .handle").mouseup(function(){e=0,o.x=null,o.y=null,null==n&&(n=setInterval(function(){a.snap()},20))}),$(".versoes .ruler").mousemove(function(s){e>0&&(null!=o.x?(a.x+=s.clientX-o.x,a.verify()):a.x=s.clientX,o.x=s.clientX)}),$(".versoes .ruler").mouseleave(function(){e=0,null==n&&(n=setInterval(function(){a.snap()},20))}),$(".versoes .ruler").mouseup(function(){e=0,o.x=null,null==n&&(n=setInterval(function(){a.snap()},20))});var r=function(){var e=1,s=7;this.getCurrentIdx=function(){return e},this.goToRight=function(){$(".car"+e).css("left","100%"),e++,e>s&&(e=1),$(".car"+e).css("left","0%"),window.tagManager.viuVersoes(e),a.snapOnce()},this.goToLeft=function(){$(".car"+e).css("left","100%"),e--,1>e&&(e=s),window.tagManager.viuVersoes(e),$(".car"+e).css("left","0%"),a.snapOnce()},this.goToIdx=function(s){e!=s&&($(".car"+e).css("left","100%"),e=s,window.tagManager.viuVersoes(e),$(".car"+e).css("left","0%"))},this.switchDescription=function(e){$father=$(e).parent().parent(),$(e).parent().hasClass("itens")&&($father.find(".itens").hasClass("open")||($father.find(".itens").addClass("open"),$father.find(".opcionais").removeClass("open"),$father.find(".opcionais").removeClass("closed-cores"),$father.find(".opcionais").addClass("closed-serie"),$father.find(".cores").removeClass("open"))),$(e).parent().hasClass("opcionais")&&($father.find(".opcionais").hasClass("open")||($father.find(".itens").removeClass("open"),$father.find(".opcionais").removeClass("closed-serie"),$father.find(".opcionais").removeClass("closed-cores"),$father.find(".opcionais").addClass("open"),$father.find(".cores").removeClass("open"))),$(e).parent().hasClass("cores")&&($father.find(".cores").hasClass("open")||($father.find(".itens").removeClass("open"),$father.find(".opcionais").addClass("closed-cores"),$father.find(".opcionais").removeClass("closed-serie"),$father.find(".opcionais").removeClass("open"),$father.find(".cores").addClass("open")))},this.sizeWasChanged=function(){a.snapOnce()},this.stop=function(){this.goToIdx(1),a.snapOnce(),$(".versoes_content").removeClass("on-description")}},t=new r;window.versoesManager=t});