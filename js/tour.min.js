$(document).ready(function(){var f=0;var e={None:0,Extern:1,Intern:2};var l={None:0,Handle:1,Free:2};var j=e.None;var i=l.None;var b=null;var h=25;var d=76;$("body").mousedown(function(){if(i==l.None){i=l.Free}f=1});$(".tour-slider .handle").mousedown(function(){i=l.Handle});$(".tour-slider .externo").mousedown(function(){i=l.Handle});$("body").mousemove(function(q){if(j==e.Extern&&f){if(i==l.Handle){var n=q.clientX-$(".tour-slider").offset().left-32;var m=$(".tour-slider .externo").width();var p=$(".tour-slider .externo").offset().left-$(".tour-slider").offset().left;var s=-32+h/2+2;var o=p+s;var t=$(".tour-slider .externo").width()+p+s-h;if(n<o){n=o}if(n>t){n=t}var u=(n-o)/(m-h);$(".tour-slider .handle").css("left",n+"px");var r=parseInt(d*u+1);c.setIndex(r)}else{if(i==l.Free){if(b!=null){if(q.clientX>b){c.addIndex(1)}else{if(q.clientX<b){c.addIndex(-1)}}}}}}b=q.clientX});$("body").mouseup(function(){f=0;i=l.None;b=null});$("body").mouseleave(function(){f=0;i=l.None;b=null});var g=function(){this.Car={Aventura:0,Trabalho:1};this.currentCar;this.currentIdx=0;this.ieAspect=1;this.minIeTop=0;this.goToSequence=function(m){this.currentCar=m;$(".tour_principal").removeClass("onMiddle");$(".tour_sequence").addClass("onMiddle");$(".tour-slider").addClass("show-slider");if(this.currentCar==this.Car.Aventura){$("#tour_aventura_sequence").addClass("from-side")}else{$("#tour_trabalho_sequence").addClass("from-side")}this.setCarContainer(0);j=e.Extern};this.backFromSequence=function(m){$(".tour_principal").addClass("onMiddle");setTimeout(function(){$(".tour_sequence").removeClass("onMiddle")},1000);$(".tour-slider").removeClass("show-slider");if(m==this.Car.Aventura){$("#tour_aventura_sequence").removeClass("from-side")}else{$("#tour_trabalho_sequence").removeClass("from-side")}this.resetExtern()};this.goToIntern=function(){if(j==e.Extern){j=e.Intern;$(".tour-slider .externo.bar").removeClass("active");$(".tour-slider .interno.bar").addClass("active");if(!window.cubeManager.isActive()){window.cubeManager.setActive(true)}if(!isie()){if(this.currentCar==this.Car.Aventura){window.cubeManager.setCubeName("saveiro_aventura_interno");$("#saveiro_aventura_interno").css("display","inline")}else{window.cubeManager.setCubeName("saveiro_trabalho_interno");$("#saveiro_trabalho_interno").css("display","inline")}}else{this.setIeContainer();if(this.currentCar==this.Car.Aventura){$("#saveiro-aventura-ie-interno").css("display","inline")}else{$("#saveiro-trabalho-ie-interno").css("display","inline")}}this.resetExtern()}};this.goToExtern=function(){if(isMobile.apple.phone||isMobile.android.phone||isMobile.seven_inch){window.tourMobileManager.goToExtern()}else{if(j==e.Intern){j=e.Extern;$(".tour-slider .externo.bar").addClass("active");$(".tour-slider .interno.bar").removeClass("active");window.cubeManager.setActive(false);if(!isie()){$("#saveiro_trabalho_interno").css("display","none");$("#saveiro_aventura_interno").css("display","none")}else{$("#saveiro-trabalho-ie-interno").css("display","none");$("#saveiro-aventura-ie-interno").css("display","none")}}}};this.setCarContainer=function(w){var o=$(window).height()-$(".tour_sequence").offset().top-150;var n=$(".tour_sequence").width()/$(".tour_sequence").height();var u,q;var m,p;var r,s;var t,v;if(n>1920/1080){u=o;m=o*1920/1080;r=($(".tour_sequence").width()-m)/2;t=0;p=$(".tour_sequence").width();q=$(".tour_sequence").width()*1080/1920;s=0;v=(o-q)/2}else{u=$(".tour_sequence").width()*1080/1920;m=$(".tour_sequence").width();r=0;t=(o-u)/2;p=o*1920/1080;q=o;s=($(".tour_sequence").width()-p)/2;v=0}$(".tour_car_sequence").height(u*(1-w)+w*q);$(".tour_car_sequence").width(m*(1-w)+w*p);$(".tour_car_sequence").css("left",r*(1-w)+w*s+"px");$(".tour_car_sequence").css("top",t*(1-w)+w*v+"px")};this.setIeContainer=function(){this.ieAspect=$(".ie-interno").width()/$(".ie-interno").height();var n=$(".ie-interno").width();var m=$(".ie-interno").height();console.log(this.ieAspect);if(this.ieAspect>=1){$(".ie-frame").width(n);$(".ie-frame").height(n);this.minIeTop=(m-n);$(".ie-frame").css("left","0px")}else{$(".ie-frame").width(m);$(".ie-frame").height(m);$(".ie-frame").css("top","0px");$(".ie-frame").css("left",(n-m)/2+"px")}};this.setIePosition=function(n,m){$(".ie-frame .ie_interno_item"+this.currentIeIdx).css("left","100%");if(m>0){this.currentIeIdx=1+parseInt((m/10%36))}else{this.currentIeIdx=1+35+parseInt(m/10%36)}$(".ie-frame .ie_interno_item"+this.currentIeIdx).css("left","0%");if(this.ieAspect>1){$(".ie-frame").css("left","0px");$(".ie-frame").css("top",this.minIeTop*(45-n)/90+"px")}else{$(".ie-frame").css("top","0px")}};this.setIndex=function(m){if(m>=d){this.goToIntern()}else{$(".aventura_car_item1").css("left","100%");$(".trabalho_car_item1").css("left","100%");$(".aventura_car_item"+this.currentIdx).css("left","100%");$(".trabalho_car_item"+this.currentIdx).css("left","100%");this.currentIdx=m;this.setCarContainer(window.tourManager.currentIdx/75);$(".aventura_car_item"+this.currentIdx).css("left","0%");$(".trabalho_car_item"+this.currentIdx).css("left","0%")}};this.addIndex=function(m){if(this.currentIdx+m<=d&&this.currentIdx+m>0){this.setSlider(m);this.setIndex(this.currentIdx+m)}};this.resetExtern=function(){$(".aventura_car_item1").css("left","100%");$(".trabalho_car_item1").css("left","100%");$(".aventura_car_item"+this.currentIdx).css("left","100%");$(".trabalho_car_item"+this.currentIdx).css("left","100%");this.currentIdx=1;this.setCarContainer(window.tourManager.currentIdx/75);$(".aventura_car_item"+this.currentIdx).css("left","0%");$(".trabalho_car_item"+this.currentIdx).css("left","0%");var n=$(".tour-slider .externo").width();var m=64-h+2;var p=(this.currentIdx-1)/(d-1);var o=m+(n-h+1)*p;$(".tour-slider .handle").css("left",o+"px")};this.setSlider=function(s){s=(s)?(s):(0);var o=$(".tour-slider .externo").offset().left-$(".tour-slider").offset().left;var q=-32+h/2+2;var n=$(".tour-slider .externo").width();var m=o+q;var r=(this.currentIdx+s-1)/(d-1);var p=m+(n-h)*r;$(".tour-slider .handle").css("left",p+"px")};this.stop=function(){$(".tour_principal").addClass("onMiddle");$(".tour_sequence").removeClass("onMiddle");$(".tour-slider").removeClass("show-slider");$("#tour_aventura_sequence").removeClass("from-side");$("#tour_trabalho_sequence").removeClass("from-side");this.currentCar=null};this.stopCube=function(){this.goToExtern()}};var a=function(){this.goToAventura=function(){$(".tour_mobile .mobile-externo-trabalho").css("display","none");$(".tour_mobile .mobile-externo-aventura").css("display","inline");$(".tour_mobile .mobile-arrow-text.left-mobile").css("display","inline");$(".tour_mobile .mobile-arrow-text.right-mobile").css("display","none");$(".tour_mobile .left-arrow").css("display","inline");$(".tour_mobile .right-arrow").css("display","none")};this.goToTrabalho=function(){$(".tour_mobile .mobile-externo-trabalho").css("display","inline");$(".tour_mobile .mobile-externo-aventura").css("display","none");$(".tour_mobile .mobile-arrow-text.left-mobile").css("display","none");$(".tour_mobile .mobile-arrow-text.right-mobile").css("display","inline");$(".tour_mobile .left-arrow").css("display","none");$(".tour_mobile .right-arrow").css("display","inline")};this.goToIntern=function(m){this.currentCar=m;if(j==e.Extern){$(".mobile-rotate-fix").css("display","none");j=e.Intern;if(!window.cubeManager.isActive()){window.cubeManager.setActive(true)}if(this.currentCar==window.tourManager.Car.Aventura){window.cubeManager.setCubeName("saveiro_aventura_interno");$("#saveiro_aventura_interno").css("display","inline")}else{window.cubeManager.setCubeName("saveiro_trabalho_interno");$("#saveiro_trabalho_interno").css("display","inline")}}};this.goToExtern=function(){if(j==e.Intern){$(".mobile-rotate-fix").css("display","inline");j=e.Extern;window.cubeManager.setActive(false);$("#saveiro-trabalho-ie-interno").css("display","none");$("#saveiro-aventura-ie-interno").css("display","none")}}};var c=new g();window.tourManager=c;var k=new a();window.tourMobileManager=k;if(isMobile.apple.phone||isMobile.android.phone||isMobile.seven_inch){j=e.Extern}});$(window).resize(function(){if(window.tourManager.currentCar!=null){tourManager.setCarContainer(window.tourManager.currentIdx/75);if(isie()){tourManager.setIeContainer()}}});